# AI 역량검사 전략게임 연습 프로그램

## 개요

- AI 역량검사에서 수행하는 전략게임을 계속해서 연습하고 결과를 분석할 수 있는 프로그램이 없어 불편했다. 이에 따라 설치형 프로그램의 형태로 로컬에 본인의 기록을 저장하고 분석할 수 있도록 한다. 

## 구성

- 실행파일 패키저: wails.io
- 백엔드: Go
- DB: Sqlite
- 프론트엔드: React, TypeScript, Vite, Tailwindcss

## 임시(개발 계획)

[wails.io](https://wails.io/docs/howdoesitwork/)의 사용법에 따라, JS가 Go 함수를 불러와 사용할 수 있도록 개발한다.

백엔드인 Go는 Sqlite를 활용해 로컬 DB에 데이터를 저장하도록 한다.

데이터는 게임의 형태에 따라 다르게 저장한다.

모든 게임의 데이터는 연습에 따라 플레이어의 실력이 개선되는지 추적할 수 있어야 한다.

### 게임의 종류와 설명

#### 1. 가위바위보

##### 목표

가위바위보 게임의 목표는 언제나 '나'가 승리할 수 있도록 물음표 카드에 들어갈 카드를 뽑는 것이다. 이를 통해 플레이어의 인능력을 평가한다.

##### 진행 방식

자세한 가위바위보 게임의 진행방식은 다음과 같다.

1. '나'와 '상대'가 있다.
2. '나' 또는 '상대'의 카드 중 한쪽에는 가위, 바위, 보 카드가 랜덤으로 주어진다. 그 반대편에는 물음표 카드가 주어진다.
3. 이 때, 플레이어는 항상 '나'의 입장에서 승리할 수 있는 카드를 선택해야 한다.
4. 예를 들어, '나'에게 '가위' 카드가 주어지고, '상대'에게 '물음표' 카드가 주어졌다면, 플레이어는 '보' 카드를 선택해서 '나'가 승리할 수 있도록 해야 한다.
5. 반대로, '나'에게 '물음표' 카드가 주어지고, '상대'에게 '가위' 카드가 주어졌다면, 플레이어는 '바위' 카드를 선택해서 '나'가 승리할 수 있도록 해야 한다.
6. 가위, 바위, 보 카드의 선택은 각각 왼쪽 방향키(가위), 아래 방향키(바위), 오른쪽 방향키(보)로 선택한다.
7. 게임에는 총 3개의 라운드가 존재한다.
   1. 1라운드에서는 항상 '나'에게 물음표 카드가 주어진다. 즉, 항상 '상대'의 가위바위보 카드를 보고 '나'가 승리하는 있는 카드를 방향키로 선택한다.
   2. 2라운드에서는 항상 '상대'에게 물음표 카드가 주어진다. 즉, 항상 '나'의 가위바위보 카드를 보고 '상대'가 패배하는 카드를 방향키로 선택한다.
   3. 3라운드에서는 '나'와 '상대'에게 랜덤으로 물음표 카드가 주어진다. 즉, 플레이어는 '나' 또는 '상대'의 가위바위보 카드를 보고 '나'가 승리하는 카드를 방향키로 선택한다.

##### 제한 사항

카드 조합이 제시되면 약 3초의 짧은 제한 시간이 주어진다. 플레이어는 제한 시간 내에 선택을 완료해야 한다. 제한 시간 내에 선택에 실패한 경우, 오답처리 되고, 다음 문제로 넘어가 새로운 카드 조합이 제시된다. 

##### 데이터의 저장 및 분석

게임의 결과 데이터는,

- 수행한 게임 당
- 게임의 각 라운드 당
- '나'의 입장과 '상대'의 입장에서 선택하는 경우
- 플레이어의 선택과 답안

에 대해 정답률과 오답률, 선택에 걸린 시간을 분석할 수 있도록 저장한다.

이를 통해, 어떤 유형에 약한지, 그리고 선택 시간과 정답률 및 오답률과의 상관관계를 분석하여 더 차분히 생각해야 하는지, 아니면 시간 초과가 발생하지 않도록 빠르게 응답해야 하는지 분석하여 플레이어에게 피드백을 제공한다.

##### 연습게임 개발 방향

플레이어는 연습을 위해 특정 라운드를 선택해서 플레이하거나, 전체 라운드를 한 번에 플레이 할 수 있다.

플레이어는 라운드 당 문제의 개수를 선택할 수 있다. 예를 들어, 라운드 당 문제의 개수를 10개로 선택하고, 1라운드를 선택해 플레이하면 10개의 문제만 풀게 되고, 전체 라운드를 선택하면 총 30개의 문제를 풀게 된다. 선택의 범위는 3문제 이상, 30문제 이하로 한다. 기본값은 10개이다.

플레이어는 문제별 제한 시간을 변경할 수 있다. 선택의 범위는 0.5초 이상, 10초 이하로 한다. 기본값은 3초이다.


#### 2. 도형 회전하기

##### 목표

도형 회전하기 게임의 목표는 '전' 모양에서 '후' 모양에 도달하는 가장 적은 회전과 반전의 조합을 찾는 것이다. 이를 통해 플레이어의 공간능력을 평가한다.

##### 진행 방식

자세한 도형 회전하기 게임의 진행방식은 다음과 같다.

1. 두 장의 그림 '전'과 '후'가 주어진다. '전'과 '후'는 같은 도형이지만 '전'에 대해 회전 및 반전을 수행하여 '후'를 만들 수 있다. '후'는 회전과 반전을 합해 8회 이하로 만들 수 있어야 한다.
2. 플레이어는 '왼쪽으로 45도 회전', '오른쪽으로 45도 회전', '좌우 반전', '상하 반전' 을 조합하여 최소한의 조합으로 '전'을 '후'로 만들 수 있는 조합을 찾아야 한다.
3. 플레이어는 '하나 지움', '전체 지움'을 통해 기존에 선택했던 조합을 지우고 다시 선택할 수 있다. 예를 들어, '왼쪽으로 45도 회전', '왼쪽으로 45도 회전', '좌우 반전'을 선택한 상태에서 '하나 지움' 버튼을 클릭하면 '좌우 반전'이 지워진다. 같은 경우에 '전체 지움'을 클릭하면 모든 선택 내역이 삭제된다.
4. 게임에는 총 2개의 라운드가 존재한다.
   1. 1라운드에는 영어 대문자를 회전 및 반전 시키는 문제가 출제된다. 다만, 'B', 'F', 'G', 'J', 'L', 'N', 'P', 'Q', 'R', 'Z' 처럼 좌우 반전과 상하 반전을 확실히 구분할 수 있는 글자만을 이용한다.
   2. 2라운드에는 4 x 4 그리드의 일부는 흰색으로, 일부는 회색으로 칠해진 도형을 회전 및 반전 시키는 문제가 출제된다. 다만, 도형은 좌우 반전과 상하 반전을 확실히 구분할 수 있어야 한다.

##### 제한 사항

1. 각 문제마다 3분의 제한 시간이 주어진다. 플레이어는 제한 시간 내에 답안을 제출해야 한다. 제한 시간을 초과하면 선택 내역과 무관하게 오답으로 처리된다.
2. 전체 클릭 가능 횟수는 20회로 제한된다. 즉, 각 회전 및 반전 버튼, 각 지움 버튼을 합해 총 20번만 클릭할 수 있다. 전체 클릭 횟수를 소모한 경 '답안 제출' 버튼만을 클릭 할 수 있다.
3. 선택 가능한 조합의 개수는 8개 이하이다.

##### 데이터의 저장 및 분석

게임의 결과 데이터는,

- 수행한 게임 당
- 게임의 각 라운드 당
- 플레이어의 선택과 답안
- 클릭 횟수 및 최소 조합의 수

에 대해 정답률과 오답률, 선택에 걸린 시간 및 클릭 횟수를 분석할 수 있도록 저장한다.

이를 통해, 어떤 유형에 약한지, 그리고 선택 시간과 정답률 및 오답률과의 상관관계를 분석하여 더 차분히 생각해야 하는지, 아니면 시간 초과가 발생하지 않도록 빠르게 응답해야 하는지 분석하여 플레이어에게 피드백을 제공한다. 마찬가지로 클릭 횟수가 문제의 최소 조합의 수를 초과하는 지에 따라 생각을 더 하고 클릭 횟수를 줄여야 하는지에 대한 피드백을 제공한다.

##### 연습게임 개발 방향

플레이어는 연습을 위해 특정 라운드를 선택해서 플레이하거나, 전체 라운드를 한 번에 플레이 할 수 있다.

플레이어는 라운드 당 문제의 개수를 선택할 수 있다. 예를 들어, 라운드 당 문제의 개수를 10개로 선택하고, 1라운드를 선택해 플레이하면 10개의 문제만 풀게 되고, 전체 라운드를 선택하면 총 20개의 문제를 풀게 된다. 선택의 범위는 2문제 이상, 15문제 이하로 한다. 기본값은 5개이다.

플레이어는 문제별 제한 시간을 변경할 수 있다. 선택의 범위는 30초 이상, 10분 이하로 한다. 기본값은 3분이다.

플레이어에게 제공하는 문제를 위해 문제와 답안을 미리 만들어야 한다. 예컨데 '전'을 영어 대문자 'P'에 대해 '왼쪽으로 45도 회전', '왼쪽으로 45도 회전', '좌우 반전'한 결과는 '상하 반전', '오른쪽으로 45도 회전', '오른쪽으로 45도 회전'한 결과와 같다. 도형의 경우에는 더 복잡할 수 있다. 특히 영어 대문자 및 도형에 회전 및 반전을 적용한 것을 '전'으로 하고 다시 회전 및 반전을 적용한 '후'를 추정하게 하는 문제는 최소 변환의 기준을 그 때 그 때 계산하는 알고리즘을 만들기 어려울 수 있다.

플레이어의 클릭 횟수 제한은 조합 및 지우기 버튼의 클릭에 한한다. 의미 없는 공간에 대한 클릭이나 제출 버튼에 대한 클릭은 세지 않는다.


#### 3. 숫자 누르기

##### 목표

임의의 순서로 배치된 1부터 9까지의 숫자를 정해진 규칙대로 누른다. 이를 통해 플레이어의 인지제어를 평가한다.

##### 진행 방식

자세한 숫자 누르기 게임의 진행방식은 다음과 같다.

1. $3 	imes 3$ 행렬에 정렬된 순서로 1부터 9까지의 숫자 버튼이 비활성화 된 채로 나타난다. 비활성 상태에서 플레이어가 숫자 버튼을 클릭할 경우 실패처리 한다.
2. 버튼을 눌러야 하는 조건이 제시됨과 동시에 임의의 순서로 배치된 1부터 9까지의 숫자 버튼이 나타난다.
3. 플레이어는 제한 시간 내에 조건대로 숫자 버튼을 클릭해야 한다.
4. 게임에는 총 2개의 라운드가 존재한다.
   1. 1라운드에서는 활성화 된 숫자를 최대한 빠르게 누르는 것이다. 활성화의 의미는 지정된 숫자 버튼의 테두리 및 글자색이 다른 것이다. 1라운드에서는 모든 숫자 버튼이 정렬된 상태만이 주어지고, 최대한 빠르게 활성화 된 숫자 버튼을 클릭하는 것이 목표가 된다.
   2. 2라운드에서는 숫자의 배열이 무작위로 변한다. 플레이어는 최대한 빠르게 1부터 9까지 순서대로 버튼을 누르되, 두 가지 조건을 만족해야 한다.
      1. 하나의 조건은 '두 번 클릭' 해야 하는 숫자가 최대 두 개 주어지는 것이다. 예를 들어, '두 번 클릭'에 '1, 2'가 주어졌다면, 플레이어는 '1 1 2 2 3 4 5 6 7 8 9' 순서로 버튼을 클릭해야 한다.
      2. 또 다른 조건은 '건너뛰기' 해야 하는 숫자가 최대 두 개 주어지는 것이다. 예를 들어, '건너 뛰기'에 '3, 4'가 주어졌다면, 플레이어는 '1 2 5 6 7 8 9' 순으로 버튼을 클릭해야 한다.
      3. 두 조건은 함께 등장할 수 있다. 예를 들어, '두 번 클릭'에 '2', '건너뛰기'에 '6, 8'이 주어졌다면, 플레이어는 '1 2 2 3 4 5 7 9' 순으로 버튼을 클릭해야 한다.

##### 제한 사항

각 라운드 당 총 게임 시간이 주어진다. 예를 들어, 1라운드에서는 전체 문제를 푸는 데 1분의 시간이 주어진다. 이 때, 플레이어는 10개 내외의 문제를 총 1분 이내에 풀어내야 한다. 2라운드에서는 전체 문제를 푸는 데 2분의 시간이 주어진다. 마찬가지로 플레이어는 10개 내외의 문제를 총 2분내에 풀어내야 한다.

제한시간 내에 성공하지 못한 문제는 모두 실패한 것으로 한다.

1라운드와 2라운드 모두, 각 문제당 한번이라도 잘못 클릭하면 해당 문제는 실패한 것으로 본다. 즉, 단일 클릭 미션인 1라운드는 당연하고, 2라운드에서는 조건을 지킨 답안과 플레이어의 클릭이 달라진 순간 실패로 판정한다.

##### 데이터의 저장 및 분석

게임의 결과 데이터는,

- 수행한 게임 당
- 게임의 각 라운드 당
- 문제를 푸는데 걸린 시간
- 2라운드에 대한, 조건의 조합과 플레이어의 선택 및 답안

에 대해 플레이어의 정답률과 오답률, 반응속도와 어떤 조건 유형에 약한지 분석할 수 있도록 저장한다.

이를 통해, 반응 속도가 느린지, 어떤 조건 조합에 약한지 등을 분석하고, 플레이어가 더 차분하게 문제를 풀어야 하는지, 아니면 더 빠르게 반응해야 하는지 등에 대해 피드백을 제공한다.

##### 연습게임 개발 방향

플레이어는 연습을 위해 특정 라운드를 선택해서 플레이하거나, 전체 라운드를 한 번에 플레이 할 수 있다.

플레이어는 라운드 당 문제의 개수를 선택할 수 있다. 라운드 당 문제의 개수의 범위는 5개 이상 30개 이하로 한다. 기본값은 10이다.

플레이어는 라운드 당 총 제한 시간을 변경할 수 있다. 라운드 당 총 제한 시간의 범위는, 1라운드는 20초 이상 2분 이하, 2라운드는 30초 이상 5분 이하로 한다.

[[1, 2, 3],[4, 5, 6],[7, 8, 9]] 배치를 '정렬된' 버튼의 배치라 할 때, 버튼 전체를 비활성 상태로 두는 것을 기본 상태로 둔다.

1라운드에서는 임의의 확률로 '활성화된' 버튼을 선택하고, 모든 버튼을 활성상태(enable)로 변경하면서 플레이어가 클릭하는 시간을 측정하고 맞고 틀림을 판단한다.

2라운드에서는 조건들을 결정하고, 해당 조건들에 맞는 정답을 배열로 가지고 있다. 그리고 버튼의 순서를 뒤섞은 임시 배열을 가지고 있다고, 버튼을 활성상태(enable)로 바꾸면서 뒤섞인 배열의 버튼으로 교체한다. 동시에 플레이어에게 조건을 제시해준다. 플레이어의 클릭 순서를 입력으로 받으면서 시간을 기록하고, 정답 배열과 달라지는 순간 실패처리한다. 모든 입력이 정답 배열과 같으면 정답처리 후 다음 문제로 넘어간다.


#### 4. 도형 순서 기억하기

##### 목표

차례로 제시되는 도형의 순서를 기억하여 조건에 맞는 버튼을 누른다. 이를 통해 플레이어의 작업기억을 평가한다.

##### 진행 방식

자세한 도형 순서 기억하기 게임의 진행방식은 다음과 같다.

1. 6개의 도형 그룹이 있다. 각 도형 그룹에는 3개의 도형이 포함되어 있으며, 각 도형의 모양은 모두 다르다. 게임이 시작되면 도형 그룹 중 하나가 랜덤하게 선택된다.
2. 선택된 도형그룹에 속한 도형이 랜덤한 순서로 짧은 시간동안 제시된다. 플레이어는 제시된 도형의 순서를 기억하고 있다가, 다음 도형이 제시되기 전에 조건에 맞춰 버튼을 눌러야 한다.
3. 게임에는 총 2개의 라운드가 존재한다.
   1. 1라운드에서는 현재 제시된 도형이 2개 순서 전 도형과 같은지 판단하여, 맞으면 왼쪽 방향키를 누르고, 다르다면 스페이스키를 눌러야 한다. 예를 들어, '사각형', '삼각형' 순서로 도형이 제시된 상황에서, 새로운 도형으로 '사각형'이 주어졌을 때, 플레이어는 왼쪽 방향키를 누른다. 그 다음 다시 '사각형'이 주어지면 현재로부터 2개 전의 도형은 '삼각형'이므로(현재 상태: '사각형', '삼각형', '사각형', '사각형'), 플레이어는 스페이스키를 눌러 모양이 다르다고 입력한다. 즉, N-Back 게임에서 n=2 인 경우이다.
   2. 2라운드에서는 현재 제시된 도형이 2개 순서 전 도형과 같은지, 또는 3개 순서 전 도형과 같은지 판단하여, 2개 순서 전 도형과 같으면 왼쪽 방향키를, 3개 순서 전 도형과 같으면 오른쪽 방향키를 누르고, 모두 다른 경우에는 스페이스키를 눌러야 한다. 예를 들어, '삼각형', '원'이 제시된 상황에서, '삼각형'이 주어진 경우 플레이어는 왼쪽 방향키를 눌러 2개 순서 전의 도형과 같음을 표시해야 한다. 이어 다시 '삼각형'이 제시되면 플레이어는 이 때 오른쪽 방향키를 눌러 3개 순서 전의 도형과 같음을 표시해야 한다. 뒤이어 '원'이 제시됐을 때에도 플레이어는 오른쪽 방향키를 눌러야 하고, 그 다음 '사각형'이 제시됐을 때에는 스페이스키를 눌러 2개 순서 전, 3개 순서 전 도형과 모두 다름을 표시해야 한다. 즉, N-Back 게임에서 n=2인 경우와 n=3인 경우가 혼합되어 있다.
   3. 따라서 최초 제시되는 도형 2개의 제시 단계에서는 입력이 필요하지 않으며, 3번째 도형부터 플레이어는 키를 입력한다.

##### 제한 사항

각 도형이 제시되는 시간이 입력 제한 시간이 된다. 즉, 한 도형 당 3초의 시간동안 제시된다면 플레이어는 3초 이내에 도형이 2개 순서 전 또는 3개 순서 전의 도형과 일치하는지 여부를 판단해서 올바른 키를 입력해야 한다.

제시되는 각 도형 당 플레이어에게는 단 한 번의 입력 기회가 주어진다. 즉, 왼쪽 방향키를 눌러야 함에도 오른쪽 방향키를 눌렀다가 실수를 깨닫고 다시 왼쪽 방향키를 입력했더라도 오른쪽 방향키가 제출된다. 

##### 데이터의 저장 및 분석

게임의 결과 데이터는,

- 수행한 게임 당
- 게임의 각 라운드 당
- 입력에 걸리는 시간
- 플레이어의 선택 및 답안

에 대해 플레이어의 정답률과 오답률, 판단에 걸리는 시간과 어떤 유형에 약한지 분석할 수 있도록 저장한다.

이를 통해, 플레이어가 어떤 도형 및 도형그룹의 순서를 암기하는 데 어려움이 있는지, 어떤 라운드에 약한지, 2라운드의 경우 3개 순서 전과 2개 순서 전을 판단하는 문제가 섞여 나올 때 약점이 있는지, 판단 시간과 정답률 및 오답률 사이의 상관관계는 어떠한지 등을 분석하고 피드백을 제공해야 한다.

##### 연습게임 개발 방향

먼저 도형 그룹을 미리 만들어 둔다. 간단한 CSS 또는 svg 파일로 구성한다. 도형 그룹은 다음과 같다.

1. 원, 정삼각형, 정사각형
2. 사다리꼴, 모래시계(정삼각형 두 개가 수직으로 놓여있으면서 한 꼭지점에서만 만나는 형태), 다이아몬드(가로폭이 세로폭보다 좁은 마름모)
3. 마름모(정사각형을 왼쪽으로 45도 회전한 형태), 나비(정삼각형 두 개가 수평으로 놓여있으면서 한 꼭지점에서만 만나는 형태), 별
4. 체크무늬($2	imes2$ 그리드에서 주대각 사각형만 색이 있고, 나머지는 흰색인 형태), 뿔(수평으로 이등변 삼각형 두 개를 연속해서 놓고 이를 뒤집은 형태), 피라미드(크기가 서로 다른 직사각형 여러개를 크기가 큰 것부터 아래에 쌓은 형태)
5. 이중삼각형(한 정삼각형 위에 다른 정삼각형이 올려진 형태), 엑스(X), 왕관(다이아몬드 세 개가 수평으로 일부 겹쳐있는 형태)

플레이어는 연습을 위해 문제에서 나올 도형 그룹을 선택하거나 임의로 선택되도록 할 수 있다.

플레이어는 연습을 위해 특정 라운드를 선택해서 플레이하거나, 전체 라운드를 한 번에 플레이 할 수 있다.

플레이어는 라운드 당 문제의 개수를 선택할 수 있다. 라운드 당 문제의 개수의 범위는 10개 이상 50개 이하로 한다. 기본값은 25이다.

플레이어는 도형의 제시 시간을 선택할 수 있다. 제시 시간의 범위는 1초 이상 10초 이하로 한다. 기본값은 3초이다.

도형을 제시할 때 랜덤하게 도형의 순서를 뽑은 뒤, 그 결과를 큐로 관리한다. 예를 들어, 최대 길이 4의 큐에서 제시된 도형을 순서대로 넣는다. 플레이어의 입력이 들어오면 입력에 따라 큐의 가장 앞 또는 앞에서 두번째 값과 비교하여 정오를 판단하고, 결과를 저장한다. 이후 큐에서 leftpop을 통해 이제 저장하지 않아도 되는 값을 제거한다.
